

<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <title>TimeTracker app</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <link rel="stylesheet" href="https://storage.googleapis.comstyles/codelab.css">
  <style>
    html {
        height: 100%;
        margin: 0;
        padding: 0;
    }
  </style>
</head>

<body class="codelab-takeover">
  <div class="codelab__toc">
    <a href="index.html" class="toc-item toc-item--complete">
      <span class="toc-item__index">1</span>
      <span class="toc-item__title">Introduction</span>
    </a>
    <a href="step-2.html" class="toc-item toc-item--complete">
      <span class="toc-item__index">2</span>
      <span class="toc-item__title">A view with a static list</span>
    </a>
    <a href="step-3.html" class="toc-item toc-item--current">
      <span class="toc-item__index">3</span>
      <span class="toc-item__title">Connecting views</span>
    </a>
    <a href="step-4.html" class="toc-item">
      <span class="toc-item__index">4</span>
      <span class="toc-item__title">Connect to the webserver</span>
    </a>
    <a href="step-5.html" class="toc-item">
      <span class="toc-item__index">5</span>
      <span class="toc-item__title">Futures</span>
    </a>
    <a href="step-6.html" class="toc-item">
      <span class="toc-item__index">6</span>
      <span class="toc-item__title">Automatic refresh</span>
    </a>
    <a href="step-7.html" class="toc-item">
      <span class="toc-item__index">7</span>
      <span class="toc-item__title">Format date and time</span>
    </a>
  </div>

  <div class="codelab__step">

    <div class="step__header">
      <a href="step-2.html">
        <svg fill="#FFFFFF" height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
          <path d="M0 0h24v24H0z" fill="none"/>
          <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
        </svg>
      </a>

      <a href="https://storage.googleapis.comindex.html" title="Return to home page">
        <svg fill="#FFFFFF" height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
          <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
          <path d="M0 0h24v24H0z" fill="none"/>
        </svg>
      </a>

      <a href="step-4.html">
        <svg fill="#FFFFFF" height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
          <path d="M0 0h24v24H0z" fill="none"/>
          <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/>
        </svg>
      </a>

      <h1>TimeTracker app</h1>
    </div>

    <div class="step__body">
      <h1>TimeTracker app</h1>
      <h2>3. Connecting views</h2>
      <div><p>We are going to make another screen to show the intervals of a task. This is necessary because the data to show for intervals is different from that of projects and tasks. In a second step we&#39;ll link task transportation to this new screen. That is, when you tap on <code>transportation</code> you&#39;ll see its intervals.</p><ul type="1"><li>We&#39;ll begin by creating the data to show. Go to <code>tree.dart</code> and add this function:</li></ul><pre><code>Tree getTreeTask() {
  String strJson = &#34;{&#34;
   &#34;\&#34;name\&#34;:\&#34;transportation\&#34;,\&#34;class\&#34;:\&#34;task\&#34;, \&#34;initialDate\&#34;:\&#34;2020-09-22 13:36:08\&#34;, \&#34;finalDate\&#34;:\&#34;2020-09-22 13:36:34\&#34;, \&#34;duration\&#34;:10,&#34;
   &#34;\&#34;intervals\&#34;:[&#34;
    &#34;{\&#34;class\&#34;:\&#34;interval\&#34;, \&#34;initialDate\&#34;:\&#34;2020-09-22 13:36:08\&#34;, \&#34;finalDate\&#34;:\&#34;2020-09-22 13:36:14\&#34;, \&#34;duration\&#34;:6 },&#34;
    &#34;{\&#34;class\&#34;:\&#34;interval\&#34;, \&#34;initialDate\&#34;:\&#34;2020-09-22 13:36:30\&#34;, \&#34;finalDate\&#34;:\&#34;2020-09-22 13:36:34\&#34;, \&#34;duration\&#34;:4}&#34;
   &#34;]}&#34;;
  Map&lt;String, dynamic&gt; decoded = convert.jsonDecode(strJson);
  Tree tree = Tree(decoded);
  return tree;
}
</code></pre><ul type="1"><li>Add a new file <code>PageIntervals.dart</code> to the <code>lib</code> folder and like before write <code>stful</code> to get the template and insert the proper class names:</li></ul><pre><code>import &#39;package:flutter/material.dart&#39;;


class PageIntervals extends StatefulWidget {
  @override
  _PageIntervalsState createState() =&gt; _PageIntervalsState();
}

class _PageIntervalsState extends State&lt;PageIntervals&gt; {
  @override
  Widget build(BuildContext context) {
    return Container();
  }
}
</code></pre><ul type="1"><li>Add methods <code>initState()</code>, <code>build()</code> and <code>_buildRow()</code> analogous to those of <code>PageActivities</code>:</li></ul><pre><code></code></pre></div>
    </div>

  </div>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-49880327-14', 'auto');

    (function() {
      var gaCodelab = '';
      if (gaCodelab) {
        ga('create', gaCodelab, 'auto', {name: 'codelab'});
      }

      var gaView;
      var parts = location.search.substring(1).split('&');
      for (var i = 0; i < parts.length; i++) {
        var param = parts[i].split('=');
        if (param[0] === 'viewga') {
          gaView = param[1];
          break;
        }
      }
      if (gaView && gaView !== gaCodelab) {
        ga('create', gaView, 'auto', {name: 'view'});
      }
    })();
  </script>
  <script src="https://storage.googleapis.comscripts/codelab.js" async></script>
</body>
</html>
